<!DOCTYPE html>

<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="author" content="Ferraiuolo-Roland-Meng" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  	<!-- TODO: modify display: none; w/ z-index & opacity modificators -->
 	<link rel="stylesheet" href="/assets/css/style.css">
	<title>BuuK - books</title>
</head>

<body>
	<!-- HEADER -->
	<div id="header" class="sticky-top">
		<nav class="navbar navbar-light">
      		<button class="navbar-toggler navbar-toggler-icon nav-left" type="button"></button>
     		<a class="navbar-brand nav-left" href="/index.html"><img src="/assets/img/buttons/buuk-logo.png" class="navbar-brand-icon" /></a>
      		<a class="nav-item nav-link ml-auto nav-right" href="/pages/login.html" title="login">Login</a>
      		<button class="navbar-button" type="button"><a class="nav-item nav-link nav-right" href="/pages/cart.html" title="cart"><img src="/assets/img/buttons/shopping-cart.svg" class="navbar-cart-icon" />Cart</a></button>
		</nav>
	</div>
	<!-- CONTENT -->
	<div id="content">
		<!-- PAGE CONTENT -->
		<div id="main-content">
			<!-- VENUE OF BuuK BACKGROUND LOGO -->
			<div id="main-bg-content">
				<div class="book-list-header">
					<p>Books</p>
				</div>
				<div class="book-list-container">

				</div>
			</div>
		</div>
    	<!-- MENU CONTENT -->
		<div id="menu-content">
			<ul id="menu-list">
        		<li><a href="/pages/books.html">Books</a></li>
				<li><a href="/pages/bestsellers.html">Bestsellers</a></li>
				<li><a href="/pages/ourfavouritereadings.html">Our favourite readings</a></li>
				<li><a href="/pages/events.html">Events</a></li>
				<li><a href="/pages/themes.html">Themes</a></li>
				<li><a href="/pages/literarygenres.html">Literary genres</a></li>
				<li><a href="/pages/authors.html">Authors</a></li>
			</ul>
		</div>
	</div>
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script>
    	$('.navbar-toggler').on('click', function() {
      		var $main = $('#main-content');
      		var $menu = $('#menu-content');

      		if ($menu.is(":hidden")) {
        		$main.hide();
        		$menu.fadeIn(400);
      		} else {
        		$menu.hide();
        		$main.fadeIn(400);
      		}
      	});
	</script>
	<script>
    /*fetch('http://localhost:8080/v2/books').then(function(response) {
      return response.json();
    }).then(function(json) {
      //json arrives as array
      */let books = [
  {
    "id": 1,
    "title": "Gravitation",
    "price": "$45.90",
    "isbn": "978-0691177793",
    "quantity": 100,
    "genre": "Science and Technology",
    "event": 1,
    "description": "Gravitation is a landmark graduate-level textbook that presents Einstein’'s general theory of relativity and offers a rigorous, full-year course on the physics of gravitation. Upon publication, Science called it “a pedagogic masterpiece,” and it has since become a classic, considered essential reading for every serious student and researcher in the field of relativity. With an emphasis on geometric interpretation, this masterful and comprehensive book introduces the theory of relativity; describes physical applications, from stars to black holes and gravitational waves; and portrays the field’s frontiers.",
    "publisher": "Princeton University Press",
    "language": "English",
    "date": "2017-10-24T00:00:00.000Z"
  },
  {
    "id": 2,
    "title": "Designing Data-Intensive Web Applications",
    "price": "$74.95",
    "isbn": "978-1558608436",
    "quantity": 100,
    "genre": "Science and Technology",
    "event": 2,
    "description": "Developing and maintaining data-intensive applications is an especially complex, multi-disciplinary activity, requiring all the tools and techniques that software engineering can provide. This book represents a breakthrough for Web application developers. Using hundreds of illustrations and an elegant intuitive modeling language, the authors— all internationally-known database researchers— present a methodology that fully exploits the conceptual modeling approach of software engineering, from idea to application. Readers will learn not only how to harness the design technologies of relational databases for use on the Web, but also how to transform their conceptual designs of data-intensive Web applications into effective software components.",
    "publisher": "Morgan Kaufmann",
    "language": "English",
    "date": "2002-12-16T00:00:00.000Z"
  },
  {
    "id": 3,
    "title": "Nineteen Eighty-Four",
    "price": "$7.47",
    "isbn": "978-0451524935",
    "quantity": 100,
    "genre": "Fantasy",
    "event": 3,
    "description": "Who controls the past controls the future: who controls the present controls the past.' Hidden away in the Record Department of the sprawling Ministry of Truth, Winston Smith skilfully rewrites the past to suit the needs of the Party. Yet he inwardly rebels against the totalitarian world he lives in, which demands absolute obedience and controls him through the all-seeing telescreens and the watchful eye of Big Brother, symbolic head of the Party. In his longing for truth and liberty, Smith begins a secret love affair with a fellow-worker Julia, but soon discovers the true price of freedom is betrayal. George Orwell's dystopian masterpiece, Nineteen Eighty-Four is perhaps the most pervasively influential book of the twentieth century.",
    "publisher": "Penguin",
    "language": "English",
    "date": "1991-06-27T00:00:00.000Z"
  },
  {
    "id": 4,
    "title": "Harry Potter and the Deathly Hallows",
    "price": "$17.59",
    "isbn": "978-1408865453",
    "quantity": 100,
    "genre": "Fantasy",
    "event": 4,
    "description": "Harry Potter is preparing to leave the Dursleys and Privet Drive for the last time. But the future that awaits him is full of danger, not only for him, but for anyone close to him - and Harry has already lost so much. Only by destroying Voldemort's remaining Horcruxes can Harry free himself and overcome the Dark Lord's forces of evil. In this dramatic conclusion to the Harry Potter series, Harry must leave his most loyal friends behind, and in a final perilous journey find the strength and the will to face his terrifying destiny: a deadly confrontation that is his alone to fight.",
    "publisher": "Bloomsbury Publishing",
    "language": "English",
    "date": "2015-08-13T00:00:00.000Z"
  },
  {
    "id": 5,
    "title": "The Great Derangement: Climate Change and the Unthinkable",
    "price": "$11.22",
    "isbn": "978-0226526812",
    "quantity": 100,
    "genre": "Science and Technology",
    "event": 5,
    "description": "Are we deranged? The acclaimed Indian novelist Amitav Ghosh argues that future generations may well think so. How else to explain our imaginative failure in the face of global warming? In his first major book of nonfiction since In an Antique Land, Ghosh examines our inability—at the level of literature, history, and politics—to grasp the scale and violence of climate change. Ghosh ends by suggesting that politics, much like literature, has become a matter of personal moral reckoning rather than an arena of collective action. But to limit fiction and politics to individual moral adventure comes at a great cost. The climate crisis asks us to imagine other forms of human existence—a task to which fiction, Ghosh argues, is the best suited of all cultural forms. His book serves as a great writer’s summons to confront the most urgent task of our time.",
    "publisher": "University of Chicago Press",
    "language": "English",
    "date": "2017-07-24T00:00:00.000Z"
  }
]
	  
	  let authors = [
  {
    "id": 1,
    "name": "Charles",
    "surname": "Misner",
    "biography": "( born June 13, 1932) is an American physicist and one of the authors of Gravitation. His specialties include general relativity and cosmology. His work has also provided early foundations for studies of quantum gravity and numerical relativity."
  },
  {
    "id": 6,
    "name": "Kip",
    "surname": "Thorne",
    "biography": "(July 9, 1911 – April 13, 2008) was an American theoretical physicist. He was largely responsible for reviving interest in general relativity in the United States after World War II. Wheeler also worked with Niels Bohr in explaining the basic principles behind nuclear fission. Together with Gregory Breit, Wheeler developed the concept of the Breit–Wheeler process. He is best known for linking the term \"black hole\" to objects with gravitational collapse already predicted early in the 20th century, for coining the terms \"quantum foam\", \"neutron moderator\", \"wormhole\" and \"it from bit\", and for hypothesizing the \"one-electron universe\"."
  },
  {
    "id": 7,
    "name": "John Archibald",
    "surname": "Wheeler",
    "biography": "(July 9, 1911 – April 13, 2008) was an American theoretical physicist. He was largely responsible for reviving interest in general relativity in the United States after World War II. Wheeler also worked with Niels Bohr in explaining the basic principles behind nuclear fission. Together with Gregory Breit, Wheeler developed the concept of the Breit–Wheeler process. He is best known for linking the term \"black hole\" to objects with gravitational collapse already predicted early in the 20th century, for coining the terms \"quantum foam\", \"neutron moderator\", \"wormhole\" and \"it from bit\", and for hypothesizing the \"one-electron universe\"."
  }
];
      let target = $('.book-list-container');

      for(let i = 0; i< books.length; i++) {

      	//Creates the container for the book element of the list
        let listItem = document.createElement('div');
        listItem.setAttribute('class', 'book');
        target.append(listItem);

        //Creates the link container that wraps up the book cover
        let link = document.createElement('a');
        link.setAttribute('href', '#');
        listItem.append(link);

        //Puts the book cover in the link wrapper
        let image = document.createElement('img');
        image.setAttribute('src', '/assets/img/books/book'+(i+1)+'.png');
        image.setAttribute('alt', 'book-cover');
        link.append(image);

        //Needs to be fixed from here on
        let {id, title, price} = books[i];
        
        /*fetch('http://localhost:8080/v2/books/'+`${id}`+'/author').then(function(response) {
      		return response.json();
    	}).then(function(json) {
    		let text = "";
    		for (var j = 0; j < json.length; j++) {
    			text += json[j].name;
    			text += json[j].surname;
    			if (!json[j].lastChild) {
    				text += ',';
    			}
    		}
    	});*/
    	let text = "";
    		for (var j = 0; j < authors.length; j++) {
    			text += authors[j].name + ' ';
    			text += authors[j].surname;
    			if (authors[j+1]) {
    				text += ', ';
    			}
    		}

        let info = document.createElement('div');
        info.setAttribute('class', 'mobile-centered');

        link = document.createElement('a');
        link.setAttribute('href', '#');

        info.append(link);
        info.append(`${title}`);
        let newline = document.createElement('br');
        info.append(newline);
        info.append(text);
        newline = document.createElement('br');
        info.append(newline);
        info.append(`${price}`);
        listItem.append(info);
      };
</script>
</body>

</html>